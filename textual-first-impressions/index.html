<!doctype html><html lang=en><head><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1" name=viewport><title>Building TUIs with textual: first impressions</title><link href=https://learnbyexample.github.io/atom.xml rel=alternate title=RSS type=application/atom+xml><script src=https://cdnjs.cloudflare.com/ajax/libs/slideout/1.0.1/slideout.min.js></script><link href=https://learnbyexample.github.io/site.css rel=stylesheet><meta content="Building TUIs with textual: first impressions" property=og:title><meta content=website property=og:type><meta content="Building a 4x4 board game as a terminal user interface (TUI) app using textual (Python third-party module)." property=og:description><meta content=https://learnbyexample.github.io/textual-first-impressions/ property=og:url><meta content=https://learnbyexample.github.io/images/textual/square_tictactoe.png property=og:image><meta content=1200 property=og:image:width><meta content=786 property=og:image:height><meta content=summary_large_image property=twitter:card><meta content=@learn_byexample property=twitter:site><link href=https://learnbyexample.github.io/favicon.svg rel=icon><link rel="shortcut icon" href=https://learnbyexample.github.io/favicon.png><body><div class=container><div class=mobile-navbar id=mobile-navbar><div class=mobile-header-logo><a class=logo href=/>learnbyexample</a></div><div class="mobile-navbar-icon icon-out"><span></span><span></span><span></span></div></div><nav class="mobile-menu slideout-menu slideout-menu-left" id=mobile-menu><ul class=mobile-menu-list><li class=mobile-menu-item><a href=https://learnbyexample.github.io/books> Books </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/mini> Mini </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/tips> Tips </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/tags> Tags </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/about> About </a></ul></nav><header id=header><div class=logo><a href=https://learnbyexample.github.io>learnbyexample</a></div><nav class=menu><ul><li><a href=https://learnbyexample.github.io/books> Books </a><li><a href=https://learnbyexample.github.io/mini> Mini </a><li><a href=https://learnbyexample.github.io/tips> Tips </a><li><a href=https://learnbyexample.github.io/tags> Tags </a><li><a href=https://learnbyexample.github.io/about> About </a></ul></nav></header><main><div class=content id=mobile-panel><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><a class=toc-link href=https://learnbyexample.github.io/textual-first-impressions/#installation-and-tutorials>Installation and Tutorials</a><li><a class=toc-link href=https://learnbyexample.github.io/textual-first-impressions/#building-square-tic-tac-toe-board-game>Building Square Tic Tac Toe board game</a><li><a class=toc-link href=https://learnbyexample.github.io/textual-first-impressions/#what-i-liked>What I liked</a><li><a class=toc-link href=https://learnbyexample.github.io/textual-first-impressions/#what-gave-me-trouble>What gave me trouble</a><li><a class=toc-link href=https://learnbyexample.github.io/textual-first-impressions/#next-steps>Next steps</a></ul></nav></div></div><article class=post><header class=post__header><h1 class=post__title><a href=https://learnbyexample.github.io/textual-first-impressions/>Building TUIs with textual: first impressions</a></h1><div class=post__meta><span class=post__time>2022-11-15</span></div></header><div class=post-content><p>Last week, I finally started exploring <a href=https://textual.textualize.io/>textual</a>. The main motivation was to start implementing a few project ideas I've had in my todo list for years. I don't particularly have a preference between TUI (terminal user interface) and GUI (graphical user interface) for these projects. Seeing a few Textual demos on twitter (courtesy <a href=https://twitter.com/willmcgugan>Will McGugan</a>) over the past few months, I felt like exploring this framework first.<p>For my first app, I picked a 4x4 board game — like Tic Tac Toe but form a square instead of a line. I came up with this variation in high school and been fond of coding it since college days.</p><span id=continue-reading></span><br><h2 id=installation-and-tutorials>Installation and Tutorials<a aria-label="Anchor link for: installation-and-tutorials" class=zola-anchor href=#installation-and-tutorials>🔗</a></h2><p>The <a href=https://textual.textualize.io/getting_started/>Getting started</a> page of the documentation will give you all the relevant installation instructions. I used <code>pip install 'textual[dev]'</code> since the development mode has nice features like <em>live editing</em>. As I looked up the <a href=https://textual.textualize.io/guide/devtools/>Devtools</a> page to link here in this blog post, I found that there's a <code>console</code> command for <code>print()</code> based debugging! That would've been handy while I was working on the game — sigh, I should've been more proactive in exploring the documentation site.<p>In the <em>Getting started</em> page, you'll also be informed about <code>python -m textual</code> (builtin demo) and <a href=https://github.com/Textualize/textual/tree/main/examples>other examples</a> in the GitHub repo.<p>After playing with the demo a bit, I went through the <a href=https://textual.textualize.io/tutorial/>tutorial</a> — shows how to build a Stopwatch app step-by-step.<p>The documentation also includes <a href=https://textual.textualize.io/guide/>Guide</a>, <a href=https://textual.textualize.io/reference/>Reference</a>, <a href=https://textual.textualize.io/api/>API</a>, etc. I gave them a cursory glance and decided to start building my game.<blockquote><p><img alt=info src=/images/info.svg> I should note that while I got introduced to programming in school about 20 years ago, I don't have much experience with projects that need more than a few hundred lines. I'm good with command-line tools and text processing with scripting languages like Python. I had a horrible experience writing an Android app a few years back, mainly due to object-oriented programming and the complexity of the project. I've improved a bit since then, but still feel like a newbie when it comes to working with classes.</blockquote><br><h2 id=building-square-tic-tac-toe-board-game>Building Square Tic Tac Toe board game<a aria-label="Anchor link for: building-square-tic-tac-toe-board-game" class=zola-anchor href=#building-square-tic-tac-toe-board-game>🔗</a></h2><p>Similar to the step-by-step Textual tutorial, I built the game by adding features incrementally. I <a href=https://twitter.com/learn_byexample/status/1590357173519155200>tweeted my progress</a> along with screenshots and recordings. Here's a summary:<ul><li>Managed to place 16 buttons in a grid layout<li>Buttons now respond to clicking! And in response, the computer plays a random move<li>Recording below shows 3 games: User wins, AI wins, Tie<li>Added Easy/Hard modes — it is impossible to beat the AI in hard mode<li>Almost done! Layout is better now and starting new game is now a button instead of a shortcut keybinding<li>Cleaned up code a bit and posted on GitHub<li>Next step: write a blog post (this post!)</ul><blockquote><p><img alt=info src=/images/info.svg> Visit <a href=https://github.com/learnbyexample/TUI-apps/tree/main/SquareTicTacToe>my GitHub repo</a> for the code, game rules and other details.</blockquote><p>I had made a <a href=https://learnbyexample.github.io/practice_python_projects/square_tic_tac_toe/square_tic_tac_toe.html>GUI version of this game using tkinter</a> last year. I copied most of the game logic from there, so I didn't much struggle with object-oriented programming in this case. Here's a sample screenshot from the finished code:<p align=center><img alt="Sample screenshot for Square Tic Tac Toe game" src=/images/textual/square_tictactoe.png></p><br><h2 id=what-i-liked>What I liked<a aria-label="Anchor link for: what-i-liked" class=zola-anchor href=#what-i-liked>🔗</a></h2><p>As mentioned before, Textual supports <em>live editing</em> mode. The command is <code>textual run --dev script.py</code> and this helps you experiment with CSS. I found this very helpful while trying out layout combinations, margin, padding, etc.<p>The default colors were great too. I didn't have to think about choosing colors (except for setting background color for header and game status). The framework even provides an easy way to allow users to switch between dark and light themes! Though, I haven't yet figured out how to set light theme as the default (I worked around by explicitly adding a call to the theme toggle method).<p>Overall, the code was significantly shorter compared to the <code>tkinter</code> version I did last year. That version had a few more features, but I'd say Textual felt much easier to reason about. I remember having to spend days shifting through stackoverflow threads and <a href=https://tkdocs.com/index.html>tkdocs</a> to get the GUI version working.</p><br><h2 id=what-gave-me-trouble>What gave me trouble<a aria-label="Anchor link for: what-gave-me-trouble" class=zola-anchor href=#what-gave-me-trouble>🔗</a></h2><p>Struggling with layout isn't new for me. I started with 4x4 grid for the board, which was fairly straightforward. Problems arose when I wanted to add status text area to the left and control buttons to the right. Placing them left/right was easy to do with <em>dock</em> in CSS. But, I couldn't get them to align well — too much spacing around the 4x4 board. I was trying to give 50% to 60% for the board and the remaining evenly divided for the other two elements. After some experimentation, what worked was giving 20% to status, 25% to control and <em>not</em> assigning a width value for the board.<p>I initially used a button for the status because I couldn't find a <em>textbox</em> widget (edit: Textual now has a <code>Label</code> widget). I knew that <a href=https://textual.textualize.io/widgets/static/>Static</a> widget can display text, but I didn't find how to dynamically change the text from that documentation page. I thought I'll have to make a custom widget, but when I went to <a href=https://textual.textualize.io/guide/widgets/>Widgets guide</a>, I found that <code>Static</code> already has an <code>update()</code> method!<p>I probably missed something (or perhaps part of the roadmap), but I found it strange to have a single <code>on_button_pressed()</code> method to handle on click event for every <code>Button</code> widget. I'd prefer a way to bind a method to the buttons, like <code>tkinter</code> provides.</p><br><h2 id=next-steps>Next steps<a aria-label="Anchor link for: next-steps" class=zola-anchor href=#next-steps>🔗</a></h2><p>As mentioned before, I have several projects in my todo list. The next one I want to try is an app for interactive exercises for <a href=https://learnbyexample.github.io/books/>my ebooks</a>. Last year, I made one for <a href=https://github.com/learnbyexample/py_regular_expressions/tree/master/interactive_exercises>Python regular expressions</a> using <code>tkinter</code>.</div><div class=post-footer><div class=post-tags><a href=https://learnbyexample.github.io/tags/python/>#python</a><a href=https://learnbyexample.github.io/tags/tui/>#TUI</a><a href=https://learnbyexample.github.io/tags/textual/>#textual</a></div><hr color=#e6e6e6><div class=post-nav><p><a class=previous href=https://learnbyexample.github.io/programming-deals-2022/>← Festive deals for books on Python, Linux, JavaScript, Regular Expressions and more</a><br><p><a class=next href=https://learnbyexample.github.io/python-regex-possessive-quantifier/>Python 3.11: possessive quantifiers and atomic grouping added to re module →</a><br></div><hr color=#e6e6e6><p>📰 Use <a href=https://learnbyexample.github.io/atom.xml>this link</a> for the Atom feed. <br> ✅ Follow me on <a href=https://twitter.com/learn_byexample>Twitter</a>, <a href=https://github.com/learnbyexample>GitHub</a> and <a href=https://www.youtube.com/c/learnbyexample42>Youtube</a> for interesting tech nuggets. <br> 📧 Subscribe to <a href=https://learnbyexample.gumroad.com/l/learnbyexample-weekly>learnbyexample weekly</a> for programming resources, tips, tools, free ebooks and more (free newsletter, delivered every Friday).<hr color=#e6e6e6></div></article></div></main></div><script src=https://learnbyexample.github.io/even.js></script>