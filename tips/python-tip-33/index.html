<!doctype html><html lang=en><head><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1" name=viewport><title>Python tip 33: sorting iterables based on multiple conditions</title><link href=https://learnbyexample.github.io/atom.xml rel=alternate title=RSS type=application/atom+xml><script src=https://cdnjs.cloudflare.com/ajax/libs/slideout/1.0.1/slideout.min.js></script><link href=https://learnbyexample.github.io/site.css rel=stylesheet><meta content="Python tip 33: sorting iterables based on multiple conditions" property=og:title><meta content=website property=og:type><meta content="Examples for sorting iterables using the key argument and a sequence to specify multiple conditions." property=og:description><meta content=https://learnbyexample.github.io/python-tip-33/ property=og:url><meta content=@learn_byexample property=twitter:site><link href=https://learnbyexample.github.io/favicon.svg rel=icon><link rel="shortcut icon" href=https://learnbyexample.github.io/favicon.png><body><div class=container><div class=mobile-navbar id=mobile-navbar><div class=mobile-header-logo><a class=logo href=/>learnbyexample</a></div><div class="mobile-navbar-icon icon-out"><span></span><span></span><span></span></div></div><nav class="mobile-menu slideout-menu slideout-menu-left" id=mobile-menu><ul class=mobile-menu-list><li class=mobile-menu-item><a href=https://learnbyexample.github.io/books> Books </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/mini> Mini </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/tips> Tips </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/tags> Tags </a><li class=mobile-menu-item><a href=https://learnbyexample.github.io/about> About </a></ul></nav><header id=header><div class=logo><a href=https://learnbyexample.github.io>learnbyexample</a></div><nav class=menu><ul><li><a href=https://learnbyexample.github.io/books> Books </a><li><a href=https://learnbyexample.github.io/mini> Mini </a><li><a href=https://learnbyexample.github.io/tips> Tips </a><li><a href=https://learnbyexample.github.io/tags> Tags </a><li><a href=https://learnbyexample.github.io/about> About </a></ul></nav></header><main><div class=content id=mobile-panel><article class=post><header class=post__header><h1 class=post__title><a href=https://learnbyexample.github.io/tips/python-tip-33/>Python tip 33: sorting iterables based on multiple conditions</a></h1><div class=post__meta><span class=post__time>2023-09-05</span></div></header><div class=post-content><p>In an <a href=https://learnbyexample.github.io/tips/python-tip-21/>earlier tip</a>, you learned how to sort iterables based on a key. You can use a sequence like <code>list</code> or <code>tuple</code> to specify a tie-breaker condition when two or more items are deemed equal under the primary sorting rule.<pre class=language-python data-lang=python style=background-color:#f5f5f5;color:#1f1f1f;><code class=language-python data-lang=python><span style=color:#72ab00;>>>> </span><span>books </span><span style=color:#72ab00;>= </span><span>(</span><span style=color:#d07711;>'Mage Errant'</span><span>, </span><span style=color:#d07711;>'Piranesi'</span><span>, </span><span style=color:#d07711;>'Cradle'</span><span>, </span><span style=color:#d07711;>'The Weirkey Chronicles'</span><span>, </span><span style=color:#d07711;>'Mistborn'</span><span>)
</span><span>
</span><span style=color:#7f8989;># sorts based on the number of words
</span><span style=color:#7f8989;># retains original order for items with the same number of words
</span><span style=color:#72ab00;>>>> </span><span style=color:#b39f04;>sorted</span><span>(books, </span><span style=color:#5597d6;>key</span><span style=color:#72ab00;>=lambda </span><span style=color:#5597d6;>b</span><span>: b.</span><span style=color:#5597d6;>count</span><span>(</span><span style=color:#d07711;>' '</span><span>))
</span><span>[</span><span style=color:#d07711;>'Piranesi'</span><span>, </span><span style=color:#d07711;>'Cradle'</span><span>, </span><span style=color:#d07711;>'Mistborn'</span><span>, </span><span style=color:#d07711;>'Mage Errant'</span><span>, </span><span style=color:#d07711;>'The Weirkey Chronicles'</span><span>]
</span><span>
</span><span style=color:#7f8989;># items with the same number of words are further sorted in alphabetic order
</span><span style=color:#72ab00;>>>> </span><span style=color:#b39f04;>sorted</span><span>(books, </span><span style=color:#5597d6;>key</span><span style=color:#72ab00;>=lambda </span><span style=color:#5597d6;>b</span><span>: (b.</span><span style=color:#5597d6;>count</span><span>(</span><span style=color:#d07711;>' '</span><span>), b))
</span><span>[</span><span style=color:#d07711;>'Cradle'</span><span>, </span><span style=color:#d07711;>'Mistborn'</span><span>, </span><span style=color:#d07711;>'Piranesi'</span><span>, </span><span style=color:#d07711;>'Mage Errant'</span><span>, </span><span style=color:#d07711;>'The Weirkey Chronicles'</span><span>]
</span></code></pre><p>To sort in descending order, usually the <code>reverse=True</code> keyword argument is used. But what if the primary and secondary rules are opposites? If one of the rule is numerical in nature, you can simply negate the number to reverse the order.<pre class=language-bash data-lang=bash style=background-color:#f5f5f5;color:#1f1f1f;><code class=language-bash data-lang=bash><span style=color:#7f8989;># descending order based on the number of words
</span><span style=color:#7f8989;># ascending alphabetic order for items with the same number of words
</span><span style=color:#72ab00;>>>></span><span> sorted(</span><span style=color:#5597d6;>books,</span><span> key=lambda b: (-b.count(</span><span style=color:#d07711;>' '</span><span>), b))
</span><span style=color:#5597d6;>[</span><span style=color:#d07711;>'The Weirkey Chronicles'</span><span style=color:#5597d6;>, </span><span style=color:#d07711;>'Mage Errant'</span><span>, </span><span style=color:#d07711;>'Cradle'</span><span>, </span><span style=color:#d07711;>'Mistborn'</span><span>, </span><span style=color:#d07711;>'Piranesi'</span><span>]
</span><span>
</span><span style=color:#7f8989;># reverse the above result
</span><span style=color:#72ab00;>>>></span><span> sorted(</span><span style=color:#5597d6;>books,</span><span> key=lambda b: (-b.count(</span><span style=color:#d07711;>' '</span><span>), b)</span><span style=color:#5597d6;>,</span><span> reverse=True)
</span><span style=color:#5597d6;>[</span><span style=color:#d07711;>'Piranesi'</span><span style=color:#5597d6;>, </span><span style=color:#d07711;>'Mistborn'</span><span>, </span><span style=color:#d07711;>'Cradle'</span><span>, </span><span style=color:#d07711;>'Mage Errant'</span><span>, </span><span style=color:#d07711;>'The Weirkey Chronicles'</span><span>]
</span></code></pre><p><img alt=info src=/images/info.svg> See also <a href=https://docs.python.org/3/howto/sorting.html>docs.python HOWTOs: Sorting</a>.<p><strong>Video demo</strong>:<p align=center><iframe allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" allowfullscreen frameborder=0 height=315 loading=lazy src=https://www.youtube.com/embed/YRLs92qWa9c width=560></iframe></p><br><p><img alt=info src=/images/info.svg> See also my <a href=https://github.com/learnbyexample/100_page_python_intro>100 Page Python Intro</a> ebook.</div><div class=post-footer><div class=post-tags><a href=https://learnbyexample.github.io/tags/python/>#python</a><a href=https://learnbyexample.github.io/tags/tip/>#tip</a></div><hr color=#e6e6e6><div class=post-nav><p><a class=next href=https://learnbyexample.github.io/tips/python-tip-32/>Python tip 32: positive lookarounds â†’</a><br></div><hr color=#e6e6e6><p>ðŸ“° Use <a href=https://learnbyexample.github.io/atom.xml>this link</a> for the Atom feed. <br> âœ… Follow me on <a href=https://twitter.com/learn_byexample>Twitter</a>, <a href=https://github.com/learnbyexample>GitHub</a> and <a href=https://www.youtube.com/c/learnbyexample42>Youtube</a> for interesting tech nuggets. <br> ðŸ“§ Subscribe to <a href=https://learnbyexample.gumroad.com/l/learnbyexample-weekly>learnbyexample weekly</a> for programming resources, tips, tools, free ebooks and more (free newsletter, delivered every Friday).<hr color=#e6e6e6></div></article></div></main></div><script src=https://learnbyexample.github.io/even.js></script>